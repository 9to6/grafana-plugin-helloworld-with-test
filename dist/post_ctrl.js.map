{"version":3,"sources":["../src/post_ctrl.js"],"names":["PanelCtrl","Post","panelDefaults","baseURL","updateInterval","PostCtrl","$scope","$injector","$http","_","defaultsDeep","panel","events","on","onInitEditMode","bind","onPanelTeardown","render","initData","console","log","addEditorTab","pluginId","post","updateData","getPosts","nextTickPromise","$timeout","posts","scope","elem","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,e,kBAAAA,S;;AACDC,U;;;;;;;;;;;;;;;;;;;;;AAEDC,mB,GAAgB;AACrBC,iBAAS,sCADY;AAErBC,wBAAgB;AAFK,O;;0BAKTC,Q;;;AACX,0BAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,KAA/B,EAAsC;AAAA;;AAAA,0HAC9BF,MAD8B,EACtBC,SADsB;;AAEpCE,YAAEC,YAAF,CAAe,MAAKC,KAApB,EAA2BT,aAA3B;AACF,gBAAKM,KAAL,GAAaA,KAAb;;AAEE,gBAAKI,MAAL,CAAYC,EAAZ,CAAe,gBAAf,EAAiC,MAAKC,cAAL,CAAoBC,IAApB,OAAjC;AACA,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,gBAAf,EAAiC,MAAKG,eAAL,CAAqBD,IAArB,OAAjC;AACA,gBAAKH,MAAL,CAAYC,EAAZ,CAAe,mBAAf,EAAoC,MAAKI,MAAL,CAAYF,IAAZ,OAApC;AACF,gBAAKG,QAAL;;AARsC;AAUrC;;;;2CAEgB;AACjBC,oBAAQC,GAAR,CAAY,oBAAZ;AACE,iBAAKC,YAAL,CAAkB,SAAlB,EAA6B,oBAAoB,KAAKC,QAAzB,GAAoC,uBAAjE,EAA0F,CAA1F;AACD;;;4CAEiB;AAClBH,oBAAQC,GAAR,CAAY,aAAZ;AACC;;;qCAES;AACV,iBAAKG,IAAL,GAAY,IAAItB,IAAJ,CAAS,IAAT,CAAZ;AACAkB,oBAAQC,GAAR,CAAY,KAAKG,IAAjB;AACA,iBAAKC,UAAL;AACA;;;uCAEY;AACZ,iBAAKD,IAAL,CAAUE,QAAV;AACE,iBAAKC,eAAL,GAAuB,KAAKC,QAAL,CAAc,KAAKH,UAAL,CAAgBT,IAAhB,CAAqB,IAArB,CAAd,EAA0C,KAAKJ,KAAL,CAAWP,cAArD,CAAvB;AACFe,oBAAQC,GAAR,CAAY,KAAKG,IAAL,CAAUK,KAAtB;AACA;;;+BAEKC,K,EAAOC,I,EAAM;AAClBX,oBAAQC,GAAR,CAAY,MAAZ;AACAD,oBAAQC,GAAR,CAAYS,KAAZ;AACAV,oBAAQC,GAAR,CAAYU,IAAZ;AACC;;;;QAtC2B9B,S;;;;AA0C9BK,eAAS0B,WAAT,GAAuB,sBAAvB","file":"post_ctrl.js","sourcesContent":["import {PanelCtrl} from 'app/plugins/sdk';\nimport Post from './post'\n\nconst panelDefaults = {\n\tbaseURL: 'https://jsonplaceholder.typicode.com',\n\tupdateInterval: 10000\n}\n\nexport class PostCtrl extends PanelCtrl {\n  constructor($scope, $injector, $http) {\n    super($scope, $injector)\n    _.defaultsDeep(this.panel, panelDefaults)\n\t\tthis.$http = $http\n\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this))\n    this.events.on('panel-teardown', this.onPanelTeardown.bind(this))\n    this.events.on('panel-initialized', this.render.bind(this))\n\t\tthis.initData()\n\n  }\n\n  onInitEditMode() {\n\t\tconsole.log('entering edit mode')\n    this.addEditorTab('Options', 'public/plugins/' + this.pluginId + '/partials/editor.html', 2)\n  }\n\n  onPanelTeardown() {\n\t\tconsole.log('teared down')\n  }\n\n\tinitData() {\n\t\tthis.post = new Post(this)\n\t\tconsole.log(this.post)\n\t\tthis.updateData()\n\t}\n\t\n\tupdateData() {\n\t\tthis.post.getPosts()\n    this.nextTickPromise = this.$timeout(this.updateData.bind(this), this.panel.updateInterval);\n\t\tconsole.log(this.post.posts)\n\t}\n\n  link(scope, elem) {\n\t\tconsole.log('link')\n\t\tconsole.log(scope)\n\t\tconsole.log(elem)\n  }\n\n}\n\nPostCtrl.templateUrl = 'partials/module.html';\n"]}